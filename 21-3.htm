<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0172)http://safari.informit.com/JVXSL.asp?x=1&mode=print&sortKey=title&sortOrder=asc&view=&xmlid=1-56592-748-6/lpicertnut-CHP-21-SECT-3&open=false&catid=&s=1&b=1&f=1&t=1&c=1&u=1 -->
<HTML><HEAD><TITLE>InformIT Online Books > LPI Linux Certification in a Nutshell</TITLE>
<META http-equiv=Content-Type content="text/html; charset=big5"><LINK 
href="21-3.files/style.css" type=text/css rel=STYLESHEET><LINK 
href="21-3.files/docsafari.css" type=text/css rel=STYLESHEET>
<SCRIPT>
      function OpenWin(url, w, h)
      {
        if(!w) w = 400;
        if(!h) h = 300;
        window.open(url, "_new", "width=" + w + ",height=" + h + ",menubar=no,toobar=no,scrollbars=yes", true);
      }
    </SCRIPT>

<META content="Microsoft FrontPage 4.0" name=GENERATOR></HEAD>
<BODY leftMargin=0 topMargin=0 marginheight="0" marginwidth="0"><A 
name=toppage></A><SPAN class=v2></SPAN>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR vAlign=top>
    <TD align=left>
      <TABLE width="95%">
        <TBODY>
        <TR>
          <TD align=left><BR><SPAN class=printhdr><B>Book: </B>LPI Linux  
            Certification in a Nutshell<BR><B>Section: </B>Chapter 21.&nbsp;  
            Security (Topic 1.14)</SPAN><BR><BR><BR> 
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top><A name=lpicertnut-CHP-21-SECT-3></A>
                  <H3 class=docSection1Title>21.3 Objective 3: Set Up User-Level 
                  Security</H3>
                  <P class=docText><A name=IXT-21-351131></A>Even after you've  
                  taken the precautions listed earlier, the potential for valid  
                  users of your system to cause problems by consuming resources  
                  still exists. Such a problem could be accidental, but if it  
                  happens intentionally, it is called a <A  
                  name=IXT-21-351132></A>Denial of Service (DoS) attack. For  
                  example, a user could create processes that replicate  
                  themselves and never exit. Eventually your system would grind  
                  to a halt because of thousands of processes, each trying to  
                  create more clones. You could also have a user begin  
                  allocating memory until the system cannot cope with the  
                  requests. In either case, you'd probably need to restart the  
                  system, if it responds at all. Clearly, prevention is more  
                  desirable for everyone. </P> 
                  <P class=docText>You can prevent these scenarios without undue  
                  restrictions on users by using <SPAN  
                  class=docEmphBold>ulimit</SPAN>. This is a <SPAN  
                  class=docEmphBold>bash</SPAN><A name=IXT-21-351133></A> 
                  built-in command<SUP class=docFootnote>[7]</SUP> that sets  
                  maximums on various system resources for users. To enforce  
                  limits on users, include <SPAN class=docEmphBold>ulimit</SPAN>  
                  commands in <I>/etc/profile</I>. </P> 
                  <BLOCKQUOTE>
                    <P class=docFootnote><SUP><A name="">[7]</A></SUP> <SPAN 
                    class=docEmphBold>tcsh</SPAN> has the <SPAN 
                    class=docEmphBold>limit</SPAN> command with similar 
                    functionality.</P></BLOCKQUOTE><A 
                  name=p2_ch11-29-fm2xml></A><A name=IXT-21-351134></A><A 
                  name=IXTR3-127></A><A name=IXTR3-128></A>
                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left><B><I>ulimit</I></B></TD>
                      <TD align=right></TD></TR></TBODY></TABLE>
                  <HR align=left width=515 color=black noShade SIZE=3>

                  <TABLE cellPadding=5 width=515 border=0>
                    <TBODY>
                    <TR>
                      <TD align=left></TD>
                      <TD align=right></TD></TR></TBODY></TABLE><A 
                  name=p2_ch11-31-fm2xml></A>
                  <H4 class=docRefsectTitle>Syntax</H4><PRE>ulimit [options] [limit]</PRE><A 
                  name=p2_ch11-32-fm2xml></A>
                  <H4 class=docRefsectTitle>Description</H4>
                  <P class=docText><A name=IXT-21-351134></A>The <SPAN  
                  class=docEmphBold>bash</SPAN> built-in <SPAN  
                  class=docEmphBold>ulimit</SPAN> provides control over  
                  resources available to the shell and its child processes. For  
                  each resource, two limits may be set: a <SPAN  
                  class=docEmphasis>hard</SPAN> limit and a <SPAN  
                  class=docEmphasis>soft</SPAN> limit. Hard limits can be  
                  changed only by the superuser; soft limits may be increased by  
                  users up to the value of the hard limit. Hard and soft limits  
                  are specified with the special <SPAN  
                  class=docEmphBold>-H</SPAN> and <SPAN  
                  class=docEmphBold>-S</SPAN> options, respectively. Other  
                  options specify specific limits. If an option is provided with  
                  a <I>limit</I> value, the corresponding limit is set. If  
                  <I>limit</I> is not provided, the current limit is displayed.  
                  <I>limit</I> is either the special word <I>unlimited</I> or a  
                  numeric value. </P><A name=p2_ch11-33-fm2xml></A> 
                  <H4 class=docRefsectTitle>Options</H4>
                  <DL class=docList>
                    <DT><SPAN class=docPubcolor><SPAN 
                    class=docEmphBold>-H</SPAN></SPAN> 
                    <DD>
                    <P class=docList>Specify the hard limit. Unless <SPAN 
                    class=docEmphBold>-H</SPAN> is specified, the soft limit is 
                    assumed. </P></DD></DL>
                  <DL class=docList>
                    <DT><SPAN class=docPubcolor><SPAN 
                    class=docEmphBold>-S</SPAN></SPAN> 
                    <DD>
                    <P class=docList>Explicitly specify the soft limit. This is 
                    the default.</P></DD></DL>
                  <DL class=docList>
                    <DT><SPAN class=docPubcolor><SPAN 
                    class=docEmphBold>-a</SPAN></SPAN> 
                    <DD>
                    <P class=docList>Display all current limits. This option 
                    does not accept a <I>limit</I> value. </P></DD></DL>
                  <DL class=docList>
                    <DT><SPAN class=docPubcolor><SPAN 
                    class=docEmphBold>-f</SPAN></SPAN> 
                    <DD>
                    <P class=docList>The maximum size of files created by the 
                    shell. This is the default resource if options are not 
                    specified. </P></DD></DL>
                  <DL class=docList>
                    <DT><SPAN class=docPubcolor><SPAN 
                    class=docEmphBold>-u</SPAN></SPAN> 
                    <DD>
                    <P class=docList>The maximum number of processes available 
                    to a single user.</P></DD></DL>
                  <DL class=docList>
                    <DT><SPAN class=docPubcolor><SPAN 
                    class=docEmphBold>-v</SPAN></SPAN> 
                    <DD>
                    <P class=docList>The maximum amount of virtual memory 
                    available to the shell.</P></DD></DL><A 
                  name=p2_ch11-34-fm2xml></A>
                  <H4 class=docRefsectTitle>Example 1</H4>
                  <P class=docText>Display all limits for an account:</P><PRE>$ <B>ulimit -a</B>
core file size (blocks)  1000000
data seg size (kbytes)   unlimited
file size (blocks)       unlimited
max memory size (kbytes) unlimited
stack size (kbytes)      8192
cpu time (seconds)       unlimited
max user processes       256
pipe size (512 bytes)    8
open files               1024
virtual memory (kbytes)  2105343</PRE><A 
                  name=p2_ch11-35-fm2xml></A>
                  <H4 class=docRefsectTitle>Example 2</H4>
                  <P class=docText>Set the maximum number of processes to 
                  128:</P><PRE>$ <B>ulimit -Hu 128</B></PRE><A 
                  name=p2_ch11-36-fm2xml></A>
                  <H4 class=docRefsectTitle>Example 3</H4>
                  <P class=docText>Set the maximum working number of processes 
                  to 128 but allow the user to raise his limit as high as 150: 
                  </P><A name=IXTR3-127></A><A name=IXTR3-128></A><PRE>$ <B>ulimit -Su 128</B>
$ <B>ulimit -Hu 150</B></PRE>
                  <UL></UL></TD></TR></TBODY></TABLE>
            
            
          </TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD vAlign=bottom align=middle colSpan=3>&nbsp;</TD></TR>
  <TR>
    <TD colSpan=4></TD></TR></TBODY></TABLE><!--
(guidin)584DDD8E-DC91-4753-A8-94-0A-5B-CA-9F-5C-96
(guidout)584DDD8E-DC91-4753-A8-94-0A-5B-CA-9F-5C-96
(ip)211.76.97.228
(host)safari.informit.com
(portal)informit
(ref)http://safari.informit.com/JVXSL.asp?x=1&mode=section&sortKey=title&sortOrder=asc&view=&xmlid=1-56592-748-6/lpicertnut-CHP-21-SECT-3&open=false&catid=&s=1&b=1&f=1&t=1&c=1&u=1
(base)?x=1&mode=print&sortKey=title&sortOrder=asc&view=&xmlid=1-56592-748-6/lpicertnut-CHP-21-SECT-3&open=false&catid=&s=1&b=1&f=1&t=1&c=1&u=1
(mode)print
(xmlid)1-56592-748-6/lpicertnut-CHP-21-SECT-3
(key)77BDD37BD144271538599547F3F513CCC632FE7317BE1B3D26790352FECE7B23F00108F67F49C1D8
(user)84132/106143

(xsl)0ms
(lib)484ms
(xml)313ms
(xsl)16ms
(ent)0ms
(buf)0ms

(tot)829ms
--></BODY></HTML>
